{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Unified AI Misalignment Experiment Configuration",
  "description": "Configuration schema for running misalignment experiments across different AI models and implementations",
  "type": "object",
  "properties": {
    "experiment": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for this experiment",
          "pattern": "^[a-zA-Z0-9_-]+$"
        },
        "scenario": {
          "type": "string",
          "description": "Scenario to test",
          "enum": ["binance", "custom"],
          "default": "binance"
        },
        "description": {
          "type": "string",
          "description": "Human-readable description of the experiment"
        }
      },
      "required": ["id", "scenario"],
      "additionalProperties": false
    },
    "model_config": {
      "type": "object",
      "properties": {
        "model": {
          "type": "string",
          "description": "AI model to use for the experiment",
          "enum": [
            "o3",
            "gpt-5",
            "claude-sonnet-4-20250514",
            "claude-opus-4"
          ]
        },
        "enable_reasoning": {
          "type": "boolean",
          "description": "Whether to enable reasoning traces/chain-of-thought",
          "default": false
        },
        "reasoning_effort": {
          "type": "string",
          "description": "Level of reasoning effort (for models that support it)",
          "enum": ["low", "medium", "high"],
          "default": "high"
        },
        "max_steps": {
          "type": "integer",
          "description": "Maximum number of steps for the agent",
          "minimum": 1,
          "maximum": 100,
          "default": 50
        }
      },
      "required": ["model"],
      "additionalProperties": false
    },
    "execution": {
      "type": "object",
      "properties": {
        "timeout_minutes": {
          "type": "integer",
          "description": "Timeout for the entire experiment in minutes",
          "minimum": 1,
          "maximum": 60,
          "default": 20
        },
        "remove_images": {
          "type": "boolean",
          "description": "Whether to remove Docker images after execution",
          "default": true
        },
        "output_dir": {
          "type": "string",
          "description": "Custom output directory (optional)",
          "pattern": "^[a-zA-Z0-9_/-]+$"
        }
      },
      "additionalProperties": false
    },
    "notifications": {
      "type": "object",
      "properties": {
        "slack_webhook_url": {
          "type": "string",
          "description": "Slack webhook URL for notifications",
          "format": "uri"
        },
        "enable_notifications": {
          "type": "boolean",
          "description": "Whether to send notifications",
          "default": false
        }
      },
      "additionalProperties": false
    },
    "output": {
      "type": "object",
      "properties": {
        "save_reasoning_traces": {
          "type": "boolean",
          "description": "Whether to save detailed reasoning traces",
          "default": true
        },
        "standardized_format": {
          "type": "boolean",
          "description": "Whether to use standardized output format",
          "default": true
        },
        "include_tool_analysis": {
          "type": "boolean",
          "description": "Whether to include detailed tool usage analysis",
          "default": true
        }
      },
      "additionalProperties": false
    }
  },
  "required": ["experiment", "model_config"],
  "additionalProperties": false
}